---
layout:     post
title:      Java多线程
subtitle:   基本知识点小结
date:       2017-12-26
author:     mushuzi
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
   - Java
---

## 什么是多线程？
多线程就是为了提高程序运行效率，典型的应用场景有多线程下载、QQ同时和多人聊天等

## 什么是进程？什么是线程？它们之间有什么关系？
 进程是正在运行的应用程序，一个操作系统可以同时有多个进程。
 
 线程是一条正在独立运行的执行顺序、执行流程、执行路径。
 
 进程是多个线程的集合。
 
 ## 什么是同步？什么是异步？
 同步对应单线程，是指代码按照从上往下的顺序执行；同步情况下，某一处代码出问题，其之后的代码将不会被执行。
 
 异步对应多线程，是指代码执行顺序不定，多个线程“同时”执行；异步情况下，某一个线程执行出问题，将不会影响其他线程的执行。
 
 异步相比于同步来说，可以提高程序执行的效率。
 
 同步和异步的对比，可以参照下图所示：
 
 ## 常用的多线程实现方式？
 ### 继承Thread类 --> 重写run()方法 --> 调用start()方法开启多线程
 
    //继承Tread类
    public class CreateThreadFromThread extends Thread{
        public void run(){
            for(int i = 0; i < 30; i++)
                System.out.println("这是子线程： i = " + i);
        }
    }
    
    //测试类
    public class Test{
        public static void main(String[] args){
             CreateThreadFromThread ct = new  CreateThreadFromThread();
            
            /*
            *注意这里不是调用run()方法，因为如果单纯调用run()方法，就是一个
            *简单的同步（单线程）下的方法调用，所以必须使用start()方法开启多线程。
            */
            ct.start(); //调用start()方法开启多线程
            
            for(int i = 0; i < 30; i ++)
                System.out.println("这是主线程： i = " + i);
        }
    }
    
 ###实现Runnable接口 --> 重写run()方法 --> 构建Thread对象 --> 调用start()方法开启多线程
 
    //实现Runnable接口
    public class CreateThreadFromRunnable implements Runnable{
        public void run(){
            for(int i = 0; i < 30; i++)
                System.out.println("这是子线程： i = " + i);
        }
    }
    
    //测试类
    public class Test{
        public static void main(String[] args){
            CreateThreadFromRunnable cr = new CreateThreadFromRunnable();
            Thread t = new Thread(cr);  
            /*
            *因为是通过实现接口的方式，自定义的run()方法是属于Runnable的子类
            *CreateThreadFromRunnable对象的，而开启多线程的start()方法是属于
            *Thread类对象的，CreateThreadFromRunnable类对象并不包含start()
            *方法，所以需要借助Thread类来用cr作为实际参数传递给Thread的构造
            *函数来构建一个Thread实例
            */
            
            t.start();  //开启多线程
            
            for(int i = 0; i < 30; i ++)
                System.out.println("这是主线程： i = " + i);
        }
    }
### 在实际的项目中，通常通过线程池实现多线程
## 继承Thread类的方式和实现Runnable接口的方式实现多线程，哪个更好？
实现Runnable接口的方式更好，实际开发都是面向接口开发。具体有以下三点优势：

*   适合多个相同程序代码的线程去处理同一资源的情况
*   可以避免由于Java的单继承特性带来的局限
*   增强了程序的健壮性，代码能够被多个线程共享，代码和数据是独立的。
